@page "/cases"

@inject CaseStore CaseStore
@inject ZhouyiProvider ZhouyiProvider
@inject NavigationManager NavigationManager

<PageTitle>历史 - 冬日梅花</PageTitle>

<MudText Typo="Typo.h3" Class="mb-5">占例记录</MudText>

<MudTable T="DisplayedCase" Items="cases" Loading="isLoading" Hover="true" >
    <HeaderContent>
        <MudTh>题目</MudTh>
        <MudTh>时间</MudTh>
        <MudTh>卦象</MudTh>
        <MudTh>编辑</MudTh>
    </HeaderContent>
    <RowTemplate>
        <MudTd DataLabel="题目">@context.Name</MudTd>
        <MudTd DataLabel="时间">@context.WesternTime.ToString("yyyy/MM/dd HH:mm")</MudTd>
        <MudTd DataLabel="卦象">@(context.Original.Name)之@(context.Changed.Name)</MudTd>
        <MudTd DataLabel="编辑">
            <MudIconButton Icon="@Icons.Material.Outlined.Edit" OnClick="(_) => ViewCase(context.InnerCase)"></MudIconButton>
        </MudTd>
    </RowTemplate>
    <PagerContent>
        <MudTablePager RowsPerPageString="每页" InfoFormat="当前：{first_item}-{last_item} 共计：{all_items}"></MudTablePager>
    </PagerContent>
</MudTable>